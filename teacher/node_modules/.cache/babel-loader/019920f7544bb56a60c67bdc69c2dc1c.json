{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { mapState } from 'vuex';\nimport Cookie from 'js-cookie';\nexport default {\n  name: 'Header',\n  props: {\n    user: Object //父组件传过来的值\n  },\n\n  data() {\n    return {\n      fullscreen: false // 是否全屏\n    };\n  },\n\n  mounted() {\n    console.log(this.user, 'user');\n  },\n  computed: {\n    ...mapState({\n      tags: state => state.tab.tabsList //返回一个对象\n    })\n  },\n\n  methods: {\n    //点击触发菜单收缩或展开\n    handleMenu() {\n      this.$store.commit('collapseMenu');\n    },\n    //退出登录\n    handleClick(command) {\n      if (command === 'loginout') {\n        localStorage.removeItem(\"user\");\n        sessionStorage.removeItem(\"menu\");\n        // Cookie.remove('token')\n        this.$router.push('/login');\n      }\n      if (command === 'person') {\n        this.$router.push('/person');\n      }\n    },\n    // 全屏事件\n    handleFullScreen() {\n      let element = document.documentElement;\n      // 判断是否已经是全屏\n      // 如果是全屏，退出\n      if (this.fullscreen) {\n        if (document.exitFullscreen) {\n          document.exitFullscreen();\n        } else if (document.webkitCancelFullScreen) {\n          document.webkitCancelFullScreen();\n        } else if (document.mozCancelFullScreen) {\n          document.mozCancelFullScreen();\n        } else if (document.msExitFullscreen) {\n          document.msExitFullscreen();\n        }\n        console.log('已还原！');\n      } else {\n        // 否则，进入全屏\n        if (element.requestFullscreen) {\n          element.requestFullscreen();\n        } else if (element.webkitRequestFullScreen) {\n          element.webkitRequestFullScreen();\n        } else if (element.mozRequestFullScreen) {\n          element.mozRequestFullScreen();\n        } else if (element.msRequestFullscreen) {\n          // IE11\n          element.msRequestFullscreen();\n        }\n        console.log('已全屏！');\n      }\n      // 改变当前全屏状态\n      this.fullscreen = !this.fullscreen;\n    }\n  }\n};","map":{"version":3,"mappings":";AA2CA;AACA;AACA;EACAA;EACAC;IACAC;EACA;;EACAC;IACA;MACAC;IACA;EACA;;EACAC;IACAC;EACA;EACAC;IACA;MACAC;IACA;EACA;;EACAC;IACA;IACAC;MACA;IACA;IACA;IACAC;MACA;QACAC;QACAC;QACA;QACA;MACA;MACA;QACA;MACA;IACA;IACA;IACAC;MACA;MACA;MACA;MACA;QACA;UACAC;QACA;UACAA;QACA;UACAA;QACA;UACAA;QACA;QACAT;MACA;QAAA;QACA;UACAU;QACA;UACAA;QACA;UACAA;QACA;UACA;UACAA;QACA;QACAV;MACA;MACA;MACA;IACA;EACA;AACA","names":["name","props","user","data","fullscreen","mounted","console","computed","tags","methods","handleMenu","handleClick","localStorage","sessionStorage","handleFullScreen","document","element"],"sourceRoot":"src/components/main","sources":["Header.vue"],"sourcesContent":["<template>\r\n    <div class=\"header-container\">\r\n        <div class=\"left-content\">\r\n            <!-- <el-button @click=\"handleMenu\"  icon=\"el-icon-menu\" size=\"mini\"></el-button> -->\r\n            <i @click=\"handleMenu\" :class=\"this.$store.state.tab.isCollapse ? 'el-icon-s-unfold' : 'el-icon-s-fold'\"  ></i>\r\n            <!-- 面包屑 -->\r\n            <el-breadcrumb style=\"margin-left: 10px;\" separator=\"/\">\r\n                <el-breadcrumb-item v-for=\"item in tags\" :key=\"item.path\" :to=\"{ path: item.path }\">{{ item.label }}</el-breadcrumb-item>\r\n            </el-breadcrumb>\r\n\r\n        </div>\r\n        <div class=\"right-content\">\r\n            <div class=\"full\" @click=\"handleFullScreen\">\r\n                <template v-if=\"fullscreen\">\r\n                    <el-tooltip class=\"item\" effect=\"light\" content=\"退出全屏\" placement=\"bottom\">\r\n                        <!-- <i class=\"el-icon-copy-document\"  ></i> -->\r\n                        <img src=\"@/assets/leavescreen.png\"/>\r\n                    </el-tooltip>\r\n                </template>\r\n                <template v-else>\r\n                    <el-tooltip class=\"item\" effect=\"light\" content=\"全屏显示\" placement=\"bottom\">\r\n                        <!-- <i class=\"el-icon-full-screen\"  ></i> -->\r\n                        <img src=\"@/assets/fullscreen.png\"/>\r\n                    </el-tooltip>\r\n                </template>\r\n            </div>\r\n            <el-dropdown size=\"medium\"  @command=\"handleClick\">\r\n                <div>\r\n                    <el-avatar v-if=\"user.avatar\" class=\"userImg\" :src=\"user.avatar\"></el-avatar>\r\n                    <el-avatar v-else icon=\"el-icon-user-solid\"></el-avatar>\r\n                    <span class=\"el-dropdown-link\">\r\n                        {{user.truename}}<i class=\"el-icon-arrow-down el-icon--right\"></i>\r\n                    </span>\r\n                </div>\r\n                <el-dropdown-menu slot=\"dropdown\">\r\n                  <el-dropdown-item command=\"person\">个人中心</el-dropdown-item>\r\n                  <el-dropdown-item command=\"loginout\">退出</el-dropdown-item>\r\n                </el-dropdown-menu>\r\n            </el-dropdown>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport { mapState } from 'vuex'\r\nimport Cookie from 'js-cookie'\r\nexport default {\r\n    name: 'Header',\r\n    props:{\r\n        user: Object //父组件传过来的值\r\n    },\r\n    data () {\r\n        return {\r\n            fullscreen: false  // 是否全屏\r\n        }\r\n    },\r\n    mounted () {\r\n        console.log(this.user,'user');\r\n    },\r\n    computed: {\r\n        ...mapState({\r\n            tags: state => state.tab.tabsList //返回一个对象\r\n        })\r\n    },\r\n    methods: {\r\n        //点击触发菜单收缩或展开\r\n       handleMenu() {\r\n        this.$store.commit('collapseMenu');\r\n       },\r\n       //退出登录\r\n       handleClick(command){\r\n        if(command === 'loginout'){\r\n            localStorage.removeItem(\"user\")\r\n            sessionStorage.removeItem(\"menu\")\r\n            // Cookie.remove('token')\r\n            this.$router.push('/login')\r\n        }\r\n        if(command === 'person'){\r\n            this.$router.push('/person')\r\n        }\r\n       },\r\n        // 全屏事件\r\n        handleFullScreen(){\r\n            let element = document.documentElement;\r\n            // 判断是否已经是全屏\r\n            // 如果是全屏，退出\r\n            if (this.fullscreen) {\r\n                if (document.exitFullscreen) {\r\n                    document.exitFullscreen();\r\n                } else if (document.webkitCancelFullScreen) {\r\n                    document.webkitCancelFullScreen();\r\n                } else if (document.mozCancelFullScreen) {\r\n                    document.mozCancelFullScreen();\r\n                } else if (document.msExitFullscreen) {\r\n                    document.msExitFullscreen();\r\n                }\r\n                console.log('已还原！');\r\n            } else {    // 否则，进入全屏\r\n                if (element.requestFullscreen) {\r\n                    element.requestFullscreen();\r\n                } else if (element.webkitRequestFullScreen) {\r\n                    element.webkitRequestFullScreen();\r\n                } else if (element.mozRequestFullScreen) {\r\n                    element.mozRequestFullScreen();\r\n                } else if (element.msRequestFullscreen) {\r\n                    // IE11\r\n                    element.msRequestFullscreen();\r\n                }\r\n                console.log('已全屏！');\r\n            }\r\n            // 改变当前全屏状态\r\n            this.fullscreen = !this.fullscreen;\r\n        }\r\n    },\r\n}\r\n\r\n</script>\r\n<style lang=\"less\" scoped>\r\n    .header-container{\r\n        padding: 0 20px;\r\n        height: 60px;\r\n        display: flex;\r\n        justify-content: space-between;\r\n        align-items: center;\r\n        border-bottom: 2px solid #cdcbcb;\r\n       \r\n        //面包屑\r\n        .text{\r\n            color: rgb(2, 2, 2);\r\n            font-size: 16px;\r\n            margin-left: 10px;\r\n            line-height: 60px;\r\n        }\r\n        .right-content{\r\n            display: flex;\r\n            .full{\r\n                font-size: 30px;\r\n                margin-right: 20px;\r\n                position: relative;\r\n                top: 15px;\r\n                color: #949393;\r\n                width: 40px;\r\n                height: 40px;\r\n                img{\r\n                    width: 25px;\r\n                    height: 25px;\r\n                }\r\n            }\r\n            .el-dropdown{\r\n                display: flex;\r\n                .userImg{\r\n                    position: relative;\r\n                    top: 13px;\r\n                    right: 10px;\r\n                }\r\n    \r\n            }\r\n            .el-dropdown-link{\r\n                color: black;\r\n                line-height: 60px;\r\n                font-size: 16px;\r\n            }\r\n           \r\n            .el-dropdown-menu{\r\n                font-size: 16px;\r\n            }\r\n        }\r\n       .left-content{\r\n            display: flex;\r\n            align-items: center;\r\n       }\r\n    }\r\n</style>"]},"metadata":{},"sourceType":"module"}