{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { mapState, mapMutations } from 'vuex';\nexport default {\n  // eslint-disable-next-line vue/multi-word-component-names\n  name: 'Tag',\n  data() {\n    return {};\n  },\n  computed: {\n    ...mapState({\n      tags: state => state.tab.tabsList\n    })\n  },\n  methods: {\n    ...mapMutations(['closeTag']),\n    //点击tag跳转的功能\n    changeMenu(item) {\n      // console.log(item.name,'item')\n      this.$router.push({\n        name: item.name\n      }); //根据name进行跳转\n      // this.$router.push(item.path)    //根据path进行跳转\n    },\n\n    //点击tag删除的功能\n    handleClose(item, index) {\n      //调用store中的mutation\n      this.closeTag(item);\n      const length = this.tags.length;\n      //删除之后的逻辑\n      //删除的不是当前已经激活的tag\n      if (item.name !== this.$route.name) {\n        return;\n      }\n      //表示的是删除的最后一项\n      if (index === length) {\n        this.$router.push({\n          name: this.tags[index - 1].name\n        });\n      } else {\n        this.$router.push({\n          name: this.tags[index].name\n        });\n      }\n    }\n  }\n  // mounted () {\n  //     console.log(this.$route.name, this.tags);\n  // }\n};","map":{"version":3,"mappings":";AAiBA;AACA;EACA;EACAA;EACAC;IACA,QAEA;EACA;EACAC;IACA;MACAC;IACA;EACA;EACAC;IACA;IACA;IACAC;MACA;MACA;QAAAL;MAAA;MACA;IACA;;IACA;IACAM;MACA;MACA;MACA;MACA;MACA;MACA;QACA;MACA;MACA;MACA;QACA;UACAN;QACA;MAEA;QACA;UACAA;QACA;MACA;IACA;EACA;EACA;EACA;EACA;AACA","names":["name","data","computed","tags","methods","changeMenu","handleClose"],"sourceRoot":"src/components/main","sources":["Tag.vue"],"sourcesContent":["<template>\r\n    <div class=\"tabs\">\r\n        <el-tag\r\n            type=\"success\"\r\n            v-for=\"(item,index) in tags\"\r\n            :key=\"item.path\"\r\n            :closable=\"item.name !== 'classes'\"\r\n            :effect=\"$route.name === item.name ? 'dark' : 'plain' \"\r\n            @click=\"changeMenu(item)\"\r\n            @close=\"handleClose(item,index)\"\r\n            size=\"small\">\r\n            <!-- closable高亮， -->\r\n            {{ item.label }}\r\n        </el-tag>\r\n    </div>\r\n</template>\r\n<script>\r\nimport { mapState,mapMutations } from 'vuex';\r\nexport default{\r\n  // eslint-disable-next-line vue/multi-word-component-names\r\n    name: 'Tag',\r\n    data () {\r\n        return {\r\n           \r\n        }\r\n    },\r\n    computed: {\r\n        ...mapState({\r\n            tags: state => state.tab.tabsList\r\n        })\r\n    },\r\n    methods: {\r\n        ...mapMutations(['closeTag']),\r\n        //点击tag跳转的功能\r\n        changeMenu(item){\r\n            // console.log(item.name,'item')\r\n            this.$router.push({name : item.name}) //根据name进行跳转\r\n            // this.$router.push(item.path)    //根据path进行跳转\r\n        },\r\n        //点击tag删除的功能\r\n        handleClose(item,index){\r\n            //调用store中的mutation\r\n            this.closeTag(item);\r\n            const length = this.tags.length;\r\n            //删除之后的逻辑\r\n            //删除的不是当前已经激活的tag\r\n            if(item.name !== this.$route.name){\r\n                return\r\n            }\r\n            //表示的是删除的最后一项\r\n            if(index === length){\r\n                this.$router.push({\r\n                    name: this.tags[index - 1].name\r\n                })\r\n                                  \r\n            }else{\r\n                this.$router.push({\r\n                    name: this.tags[index].name\r\n                })\r\n            }\r\n        }\r\n    }\r\n    // mounted () {\r\n    //     console.log(this.$route.name, this.tags);\r\n    // }\r\n}\r\n\r\n</script>\r\n<style lang=\"less\" scoped>\r\n\r\n.tabs{\r\n    padding: 8px 20px;\r\n    cursor: pointer;\r\n    border-bottom: 1px solid #cdcbcb;\r\n    .el-tag{\r\n        margin-right: 10px;\r\n    }\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}